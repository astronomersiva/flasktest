<!DOCTYPE html>

<html lang="en">
<head>
  <title>@siva | Bootstrap migration at scale for fast paced teams</title>
  <meta property="og:title" content="Bootstrap migration at scale for fast paced teams" />
  <meta property="og:site_name" content="@siva" />
  <meta property="og:url" content="https://sivasubramanyam.me/bootstrap-migration-at-scale" />
  <meta property="og:description" content="An approach to lazily migrate Bootstrap at scale for busy teams." />
  <meta name="description" content="An approach to lazily migrate Bootstrap at scale for busy teams." />
  <meta charset="utf-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="sivasubramanyam,sivasubramanyam.me" name="keywords">
<meta content="Sivasubramanyam A" name="author">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>@siva </title>
<style>
  @font-face {
    font-family: 'Source Sans Pro';
    font-style: normal;
    font-weight: 400;
    src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/ODelI1aHBYDBqgeIAH2zlJbPFduIYtoLzwST68uhz_Y.woff2) format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2212, U+2215;
  }
</style>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/static/sdist/b5bf8c54923067940dcb016d50ef6f42.css">
<link rel="apple-touch-icon" sizes="57x57" href="/static/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/static/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/static/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
<meta name="msapplication-TileImage" content="/static/favicons/ms-icon-144x144.png">
  
</head>

<body>
  <nav class="navbar navbar-default navbar-fixed-top upper row" id="opacityNav">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://sivasubramanyam.me/">@siva</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/index">Home</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </div>
  </div>
</nav>
  <div class="row title">
    <div class="col-md-6 col-md-offset-3 meta-outer">
      Bootstrap migration at scale for fast paced teams
      <div class="meta-inner">
        
          <a href = "/tag/Bootstrap">&nbsp;&nbsp;Bootstrap</a>
        
          <a href = "/tag/Ideas">&nbsp;&nbsp; Ideas</a>
        
      </div>
    </div>
  </div>
  <div class="row content">
    <div class="col-md-6 col-md-offset-3">
      
  <p>Migrating tens of thousands of lines of code an be a pretty demanding task even for the most equipped teams. If there is a clear migration strategy that slowly introduces changes while gradually deprecating existing APIs, teams can migrate their code while upgrading versions by performing incremental changes. With Bootstrap 4 however, a bulk of the APIs have been changed and this requires every usage of Bootstrap to be changed to the latest version before upgrading. Even though this is straightforward to most projects, large projects that are fast paced may face difficulties.</p>
<p>Consider this example. Harry migrates from Bootstrap 3 to Bootstrap 4 in a branch <code>bootstrap-v4</code> forked from the master branch on May 5. He finishes this by May 7 and realises that there has been code modifications and he has to work on the migration again(and resolve all those ugly merge conflicts). Not only does he have to change class names on the changes, he should also ensure that there are no visual regressions because of his changes. On a sufficiently large codebase, this is frankly not possible as one cannot be expected to remember how each part of an application looks like. One way to avoid this will be stopping all development until Harry finishes his work and involving all developers in helping out Harry by splitting modules/components among fellow devs. But when your customers are demanding features and there are deadlines to be met, this is not feasible for fast paced teams.</p>
<p>A better approach will be to perform migrations on the basis of Bootstrap APIs<sup>*</sup>. Bootstrap 3 has a <a href="https://getbootstrap.com/docs/3.3/customize/"><code>Customize and Download</code></a> feature that we can use to help in this migration. Let's say on May 5, all developers decide to change all tables in their codebase to work with Bootstrap v4. The customize and Download feature can be used to compile and download Bootstrap with all styles other than the ones related to tables. Even though v4 does not have this feature, the required styles(in this case,<code>tables.scss</code>) alone can be imported in the <code>bootstrap.scss</code> file in the cloned source and built to CSS. We will now have two CSS files - v3 containing all styles other than tables and v4 containing only table related styles. All developers can now easily migrate tables alone to v4. This can go on for several iterations, migrating one(or multiple) components at a time till the entire codebase has been migrated to v4.</p>
<h4><strong>Advantages</strong></h4>
<ul>
<li><strong>Does not hinder the development cycle</strong> - Migration can happen <strong>along</strong> with other feature development.</li>
<li><strong>Enables a gradual learning(and unlearning) curve</strong> - It will be quite confusing for developers to suddenly start using v4 syntax. With this approach, one gets to unlearn gradually and learn the latest syntax at the same time.</li>
<li><strong>Lets the developers set the pace for the migration</strong> - Is it a busy week when developers are overloaded with work? Migrate just one(or zero) APIs. Is it a relatively free week? Migrate four APIs!</li>
</ul>
<h4><strong>Disadvantages</strong></h4>
<ul>
<li>Some teams might have to get any third-party dependencies like these from an organisation level download center to avoid licensing related issues. Since such teams will have to script this removal and addition logic on the downloaded assets, it will slightly increase the build timing and temporarily add an additional task to the build pipeline. Teams can try talking to the concerned people and use this as a special case to directly bundle Bootstrap in their repos to reduce these efforts.</li>
<li>Interdependent APIs will have to be migrated together.</li>
<li>There will be cases where manual intervention will be required while custom building the newer version. However, the effort involved in this will be significantly lesser than migrating in bulk as it is easier to concentrate on just one thing and analyse all its variants.</li>
<li>Introduces an additional network call to fetch another CSS - This can be avoided by combining the two CSS files.</li>
<li>Developers will have to keep track of which APIs have been converted to use the correct styles.</li>
</ul>
<p><br>
<br>
<strong>Talk is cheap. Show me the code!</strong></p>
<p>I have put together a <a href="/static/bootstrap-migration/example.html">small, ugly example</a> of using Bootstrap 3 and 4 together. The table in this example uses Bootstrap 4 and the rest use Bootstrap 3.</p>
<p><sup>*</sup><small>Using the term APIs for the lack of something better.</small></p>

    </div>
  </div>
  <footer>
  <div class="row footer-contents">
    <div class="col-md-offset-6 col-md-6 copyright">
        2018 &copy; Sivasubramanyam A <a href="http://twitter.com/astronomersiva" class="social"><i class="icon-twitter"></i></a> / <a href="http://github.com/astronomersiva" class="social"><i class="icon-github-circled"></i></a>
    </div>
  </div>
</footer>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" type="text/javascript"></script>
<script defer src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/sdist/9d36d3db30fb66ac206d202a829dfc5e.js"></script>
  
</body>
</html>