<!DOCTYPE html>
<html>
<head>
  <title>@siva | A coder&#39;s tribute to the country</title>
  <meta property="og:title" content="A coder&#39;s tribute to the country" />
  <meta property="og:site_name" content="@siva" />
  <meta property="og:url" content="https://sivasubramanyam.me/independence-day" />
  <meta property="og:description" content="A real time Twitter streamer to celebrate India&#39;s independence day" />
  <meta name="description" content="A real time Twitter streamer to celebrate India&#39;s independence day" />
  <meta charset="utf-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="sivasubramanyam,sivasubramanyam.me" name="keywords">
<meta content="Sivasubramanyam A" name="author">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>@siva </title>
<style>
  @font-face {
    font-family: 'Source Sans Pro';
    font-style: normal;
    font-weight: 400;
    src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/ODelI1aHBYDBqgeIAH2zlJbPFduIYtoLzwST68uhz_Y.woff2) format('woff2');
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2212, U+2215;
  }
</style>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/static/sdist/f1f934e929d5d47a9d64102814fce19d.css">
<link rel="apple-touch-icon" sizes="57x57" href="/static/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/static/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/static/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
<meta name="msapplication-TileImage" content="/static/favicons/ms-icon-144x144.png">
  
</head>
<body>
  <div class="container-fluid">
    <div class="row content hero hero-post">
      <div class="navbr navbr-primary">
  <a href="/">@siva</a>
</div>

<div class="navbr navbr-secondary">
  
    Tagged
    
      &nbsp;&nbsp;-<a href = "/tag/Python">&nbsp;&nbsp;Python</a>
    
      &nbsp;&nbsp;-<a href = "/tag/Flask">&nbsp;&nbsp; Flask</a>
    
      &nbsp;&nbsp;-<a href = "/tag/Twitter">&nbsp;&nbsp; Twitter</a>
    
      &nbsp;&nbsp;-<a href = "/tag/MongoDB">&nbsp;&nbsp; MongoDB</a>
    
      &nbsp;&nbsp;-<a href = "/tag/Redis">&nbsp;&nbsp; Redis</a>
    
  
</div>
      <div class="col-md-8 col-md-offset-2 helloWorld">
        <div class="hello hello-post">
          A coder&#39;s tribute to the country
        </div>
      </div>
    </div>
  </div>

  <div class="container posts">
    <div class="row">
      <div class="col-md-8 col-md-offset-2 content">
        
  <p>I wanted to write some piece of code dedicated to the country on the eve of India's independence day and thought of doing something with Twitter and maps. </p>
<p>I came across <a href="http://blog.comsysto.com/2012/07/10/real-time-twitter-heat-map-with-mongodb/">this blog post</a> and it was pretty close to what I was planning to do. The code had to be cleaned up a little though.</p>
<p>I modified the tstream.py file so that it saved only the tweets containing location info into the MongoDB collection instead of the original code that saved every tweet into the collection and then let the server process all of it when the map is loaded.</p>
<p>Also, I had to use geocoding to convert the place names to coordinates so that they could be plotted on the map. This was because, I could find very few geotagged tweets but there were a lot more tweets that came with city information.</p>
<p>I then modified the JS code in the map so that it displayed a normal map instead of a heatmap. It was then that the idea of using tricolored markers came into my mind. I approximately divided India into three parts and gave each marker the corresponding tricolor based on the latitude.</p>
<p>After that, all I had to do was run the mongo server using <code>sudo service mongod start</code> and then start the Redis server using <code>redis-server</code>. I then ran the tstream.py and also ran the tweet_service.py.</p>
<p>When I then opened <code>localhost:5000/static/map.html</code> in my browser, I could see this cool map getting plotted by markers one by one. Here is a small GIF to give an idea.</p>
<p><img alt="" src="../static/images/india.gif" /></p>
<p><button type="button" class="btn btn-info "><a href="https://github.com/astronomersiva/twitter-independence-day-heatmap">View on Github</a></button></p>

      </div>
    </div>
  </div>

  <footer>
  <div class="row footer-contents">
    <div class="col-md-offset-6 col-md-6 copyright">
        2018 &copy; Sivasubramanyam A <a href="http://twitter.com/astronomersiva" class="social"><i class="icon-twitter"></i></a> / <a href="http://github.com/astronomersiva" class="social"><i class="icon-github-circled"></i></a>
    </div>
  </div>
</footer>
<script type="text/javascript" src="/static/sdist/259803dc5e7badea53ff50efdb767142.js"></script>

  
</body>
</html>